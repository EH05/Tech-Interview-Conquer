# Spring Bean

---

## 면접 질문 예시

> "Spring에서 Bean의 생명 주기(Bean Life Cycle)에 대해 설명해 주세요.”

---

<details>
  <summary><h2> 평가 요소 및 모범 답안</h2></summary>

  ### 1. Bean 생명 주기 단계
  - 포함내용
      - [ 스프링 컨테이너 생성 ] → [ 스프링 빈 생성 ] → [ 의존관계 주입 ] → [ 초기화 콜백 ] → [ 사용 ] → [ 소멸 전 콜백 ]→ [ 스프링 종료 ]
      - 스프링 컨테이너 생성
        - `ApplicationContext`와 같은 스프링 컨테이너가 생성되어 전체 Bean을 관리할 준비를 한다.
      - 스프링 빈 생성
        - `@Component`, `@Bean`, XML 설정 등을 통해 등록된 Bean 객체가 생성된다.
      - 의존관계 주입
        - `@Autowired`, 생성자, Setter 등을 통해 필요한 의존성이 주입된다.
      - 초기화 콜백
        - 초기 설정 작업을 위해 Spring이 콜백 메서드를 자동으로 호출한다.
      - 사용
        - 초기화가 완료된 Bean은 실제 서비스 로직에서 주입되어 사용된다.
      - 소멸 전 콜백
        - 스프링 컨테이너가 종료되기 직전에, Bean의 리소스를 정리하거나 연결을 종료하는 등의 작업을 위해 콜백 메서드를 자동으로 호출한다.
      - 스프링 종료
        - `ApplicationContext.close()` 호출과 함께 스프링 컨테이너가 종료되며, 등록된 모든 Bean의 소멸 콜백이 실행되어 정리 작업이 완료된다.

  </br>
  </br>
 
  ### 2. 심화 지식
  - 포함내용
      - 의존관계 주입
        - 생성자 주입 : 객체의 생성과 의존관계 주입이 동시에 일어난다.
        - Setter와 Field 주입 : 객체 생성이 된 다음에, 의존관계 주입 단계로 나누어진다.
      - 콜백 관리 방법 3가지
        - 인터페이스(InitializingBean, DisposableBean) 사용 : 스프링 초창기에 나온 방법이며, 지금은 거의 사용하지 않는다.
        - 설정 정보에 초기화 메소드, 종료 메소드 지정 : Bean 지정 시 initMethod와 destroyMethod를 직접 지정해야해서 번거롭다.
        - @PostConstruct, @PreDestroy 어노테이션 사용 : 최신 스프링에서 가장 권장하는 방법으로, 어노테이션 하나만 붙이면 되어서 매우 편리하다.
  
  </br>
  </br>
  
  ### 3. 모범 답안 예시

  > Spring에서의 Bean 생명 주기는 스프링 컨테이너가 생성되는 시점부터 종료되는 시점까지, Bean이 어떻게 생성되고, 사용되며, 소멸되는지를 일련의 흐름으로 설명할 수 있습니다. </br>
  > 먼저, ApplicationContext와 같은 스프링 컨테이너가 생성되면, 전체 Bean을 관리할 준비가 됩니다. </br>
  > 이때 컨테이너는 설정 정보를 바탕으로 등록된 Bean을 생성하며, @Component, @Bean, 또는 XML 설정 등을 통해 정의된 Bean 객체들이 메모리에 올라갑니다. </br>
  > Bean이 생성된 이후에는 @Autowired, 생성자, 세터 등을 통해 필요한 의존성이 주입됩니다. 이렇게 의존관계가 모두 주입된 후에는 Bean이 본격적으로 사용되기 전 초기 설정을 위한 초기화 콜백이 실행됩니다. </br>
  > 초기화가 완료된 Bean은 실제 애플리케이션의 서비스 로직에 주입되어 사용됩니다. 사용이 끝나고 애플리케이션이 종료되는 시점이 되면, 소멸 전 콜백이 실행되어 자원 반납이나 연결 해제 등 필요한 정리 작업이 수행됩니다. </br>
  > 마지막으로, ApplicationContext.close()가 호출되면서 스프링 컨테이너가 종료되고, 등록된 모든 Bean의 소멸 작업이 마무리됩니다. </br>
</details>
