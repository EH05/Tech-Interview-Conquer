
# 사용자 모드, 커널 모드

---

## 면접 질문 예시

> "사용자 모드와 커널 모드에 대해서 설명해 주세요”

---

<details>
  <summary><h2> 평가 요소 및 모범 답안</h2></summary>

  ### 1. 사용자 모드, 커널 모드 정의 및 개념 이해
  - 포함내용  
    * 사용자 모드
      - 정의 : 일반 애플리케이션이 동작하는 모드
      - 특징
        * CPU가 제한된 권한(Ring 3)을 가지고 명령어를 실행
        * 직접 하드웨어 접근이 불가능하고 시스템 콜을 이용해야 함
        * 다른 프로세스나 커널의 메모리를 직접 접근할 수 없음(메모리 보호 기법)
          - 가상 메모리 구조
          - 프로세스마다 독립된 가상 주소 공간 사용
    * 커널 모드
      - 정의 : 운영체제 커널이 동작하는 모드
      - 특징
        * CPU가 최고 권한(Ring 0)을 가지고 명령어를 실행
        * 하드웨어 제어나 시스템 자원 관리를 직접 수행
        * 전체 메모리에 대한 접근이 가능
    * 사용자 모드와 커널 모드의 분리
      - 이유 : 애플리케이션의 실수 혹은 악의적인 접근으로 시스템 전체에 문제를 일으키지 않기 위함
     
  ### 2.모범 답안 예시
    
  "사용자 모드는 일반 애플리케이션이 동작하는 모드로 CPU가 제한된 권한을 가지고 명령어를 실행하고, 하드웨어에 직접 접근하기 위해서는 시스템 콜을 사용해야 합니다  
  커널 모드는 운영체제 커널이 동작하는 모드로 CPU가 최고 권한을 가지고 명령어를 실행하기에 하드웨어를 직접 제어할 수 있습니다  
  두 가지 모드를 구분한 이유는 애플리케이션의 실수 혹은 악의적인 접근으로 인해 시스템 전체에 문제를 일으키는 것을 보호하기 위해서입니다"

  ### 3. 심화 지식
  
  - 포함내용
    * 시스템 콜
      - 정의 : 사용자 애플리케이션이 커널 기능을 사용하기 위해 CPU가 사용자 모드에서 커널 모드로 전환하기 위한 인터페이스
      - 동작 방법 : 트랩(SYSCALL 명령어) / 하드웨어 인터럽트(키보드 입력 인터럽트 등)
      - 비용 : 사용자 모드와 커널 모드 간 전환에는 문맥 교환, 상태 저장/복구 등의 비용이 발생
     
    * 트랩, 인터럽트
      - 트랩
        * 발생 원인 : 소프트웨어 요청(syscall), 예외(0 나누기 등)
        * 명령어 실행 중 발생하여 즉시 처리(동기)
      - 인터럽트
        * 발생 원인 : 하드웨어 장치 이벤트(키보드 입력 등)
        * 실행중이던 명령어를 중단하고 처리(비동기)
    * 하이퍼바이저
      - 정의 : 물리 머신의 CPU, 메모리 등의 자원을 추상화하여 여러 가상 머신이 사용할 수 있도록 관리
      - 종류
        * Type 1
          - 방식 : 하드웨어 위에 직접 설치되어 동작(커널 모드에서 실행)
          - 특징 : 직접 하드웨어를 제어하기에 성능이 뛰어나지만, 설치 및 관리가 복잡하고 서버 전용환경에서만 사용 가능
        * Type 2
          - 방식 : 기존 OS 위에서 설치되어 실행(사용자 모드에서 실행)
          - 특징 : 기존 운영체제에서 쉽게 사용이 가능하지만, 직접 하드웨어를 제어할 수 없어 성능이 낮음 
