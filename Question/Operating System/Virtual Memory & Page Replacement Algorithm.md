# 가상메모리의 개념과 관리 기법, 그리고 페이지 교체 알고리즘

<br>
<br>

## 면접 질문 예시

> “가상 메모리란 무엇이며, 왜 사용하는지 설명해주세요. 그리고 가상 메모리를 효과적으로 관리하기 위한 기법에는 어떤 것들이 있는지 설명해주세요. 마지막으로, 가상 메모리에서 페이지 교체가 필요한 이유와 대표적인 페이지 교체 알고리즘에 대해서도 설명해주세요.
> 

<br>
<br>

<details>
<summary><h2> 평가 요소 및 평가 요소 별 모범 답안</h2></summary>

### 1. 가상 메모리

- 포함내용
    - 정의: 물리적 메모리(RAM)의 크기보다 더 큰 프로그램을 실행할 수 있도록 지원하는 메모리 관리 기법으로, 디스크 공간의 일부를 마치 RAM처럼 사용하는 기술
    - 목적: 물리 메모리 부족 문제 해결, 메모리 보호 및 프로세스 간의 독립성을 보호한다.
    - 단점: 디스크 활용으로 인한 속도 저하, 메모리 단편화 문제 발생, CPU 오버헤드 증가
- <details>
    <summary>모범 답안 예시 : </summary>
    
    > "가상 메모리는 CPU에서 데이터를 로드할때, 물리 메모리가 부족한 상황에서 사용할 수 있습니다. 디스크 공간의 일부를 RAM처럼 사용하는 메모리 관리 기법으로써, 물리 메모리 부족 문제를 해결하고 메모리 보호 및 프로세스 간의 독립성을 보장합니다. 하지만 가상메모리는 RAM보다 접근 속도가 느린 디스크를 사용하기 때문에, 속도 저하를 야기할 수 있으며, 가상 메모리를 관리하기 위해 페이지 테이블을 유지하고 변환해야하므로 CPU의 추가적인 연산이 필요하다는 단점이 있습니다. 따라서 OS는 효율적인 페이지 교체 알고리즘을 활용하여 성능 저하를 최소화해야합니다."
    </details>

<br>
<br>

### 2. 가상 메모리의 주요 구현 기법

- 포함내용
    - 페이징: 고정된 크기의 블록(page)로 메모리를 관리하여 연속된 공간이 필요없지만, 내부 단편화가 발생할 수 있다.
    - 세그멘테이션: 가변 크기 블록(segment)로 메모리를 관리하여 연속된 공간이 필요하며, 외부 단편화가 발생할 수 있다.
- 추가 설명
    - 단편화(Fragmentation) : 메모리를 할당하고 해제하는 과정에서 사용하지 못하는 작은 조각들이 생기는 현상
    - 내부 단편화 : 페이지로 메모리를 할당할 때, 프로세스가 필요한 메모리보다 큰 공간이 할당되면서 남는 부분이 발생하는 문제. (할당된 블록내에서 공간이 낭비됨.)
    - 외부 단편화 : 세그먼트로 메모리를 할당할 때, 빈 공간이 여러 개의 작은 조각으로 나뉘어, 연속된 충분한 공간이 없어 사용하지 못하는 문제. 
- <details>
    <summary>모범 답안 예시 : </summary>
    
    > "가상 메모리를 할당할 때, 메모리를 고정된 크기로 나눌지 가변 크기로 나눌지에 따라 두 가지 기법으로 구분됩니다. 메모리를 고정된 크기인 페이지로 나누는 것을 페이징이라고 하며, 이는 연속된 공간이 필요없지만 내부 단편화가 발생할 수 있고, 가변 크기인 세그먼트로 나누는 것을 세그멘테이션이라고 하며, 이는 연속된 공간이 필요해 외부 단편화가 발생할 수 있습니다. 내부 단편화는 필요한 메모리보다 더 큰 공간이 할당되면서 공간이 낭비되는 것이며, 외부 단편화는 연속된 충분한 공간이 없어 사용하지못하는 것을 의미합니다.  "
    </details>
  
<br>
<br>

### 3. 가상 메모리의 주요 기능

- 포함내용
    - 페이지 교체 (Page Replacement) : 물리 메모리가 부족할 때 사용하지 않는 페이지를 제거하고, 필요한 페이지를 로드하는 기법
    - 페이지 부재 (Page Fault) : 프로세스 실행 중에 필요한 페이지가 물리 메모리에 없는 경우 발생하며, OS가 디스크에서 해당 페이지를 메모리로 가져온다.
    - 스왑 (Swapping) : 물리 메모리가 거의 다 찼고 페이지 교체만으로는 부족한 경우 발생하며, 일부 프로세스를 디스크로 내보내고 필요할 때 다시 로드하는 기법이다.
- <details>
    <summary>모범 답안 예시 : </summary>
    
    > "가상 메모리는 주어진 상황에 따라 세 가지 주요 기능을 수행합니다. 물리 메모리가 부족할 때에는 페이지 교체를 진행하여, 이는 사용하지 않는 페이지를 제거하고 필요한 페이지를 로드합니다. 프로세스 실행 중에 필요한 페이지가 물리 메모리에 없으면 페이지 부재가 발생하며, OS가 디스크에서 해당 페이지를 메모리로 가져옵니다. 마지막으로 물리 메모리가 거의 다 찼고 페이지 교체만으로는 부족한 경우 스왑이 발생하며, 일부 프로세스를 디스크로 내보내고 필요할 때 다시 로드합니다. "
    </details>

<br>
<br>

### 4. 페이지 교체 알고리즘

- 포함내용
    - 페이지 교체 알고리즘 : 물리 메모리가 가득 찼을 때, 어떤 페이지를 내보내고 새로운 페이지를 로드할 것인지 결정하는 방법
    - FIFO (First-In, First-Out) : 가장 먼저 들어온 페이지를 먼저 교체하는 방식. 비교적 구현이 간단하지만, 오래된 페이지가 자주 사용되는 페이지일 수도 있어서 비효율적이다.
    - LRU (Least Recently Used) : 가장 오래 사용되지 않은 페이지를 교체하는 방식. 최근 자주 사용된 페이지를 유지할 수 있어 성능이 좋지만, 최근 사용된 시간을 추적해야하므로 구현이 복잡하다.
    - LFU (Least Frequently Used) : 사용 횟수가 가장 적은 페이지를 교체하는 방식. 최근에 자주 사용되더라도 단순히 횟수가 적다면 페이지를 제거할 수도 있어서 비효율적이다.
    - Clock Algorithm : FIFO를 보완한 방식으로, 페이지에 '사용비트'를 두어 교체여부를 결정. FIFO의 단점을 개선하면서 성능을 향상시킨다.







</details>
