# 쿠키, 로컬 스토리지, 세션 스토리지 비교

---

## 면접 질문 예시

> "웹 브라우저에서 데이터를 클라이언트 측에 저장하는 방식에는 쿠키, 로컬 스토리지, 그리고 세션 스토리지가 있습니다. 이들 각각의 저장 방식의 차이점과 사용 목적, 보안 및 용량 제한 등에 대해 설명해 주실 수 있나요?"

---

<details>
  <summary><h2> 평가 요소 및 평가 요소 별 모범 답안</h2></summary>

  ### 1. 쿠키 (Cookies)
  - 포함내용
    - 정의: 쿠키는 서버가 클라이언트에 설정해주는 작은 텍스트 데이터
    - 용도: 사용자 인증, 세션 관리, 사용자 선호도 저장
    - 제한: 4KB의 크기 제한, 만료 시간(expiration) 설정이 가능하며, 서버에 의해 제어됨.
    - 전송: 각 HTTP 요청 시 자동으로 함께 전송
  - <details>
    <summary>모범 답안 예시 : </summary>
    
      > "쿠키는 서버가 클라이언트에 설정하는 작은 텍스트 데이터로, 매 HTTP 요청 시 자동으로 전송되어 사용자 인증, 세션 관리, 그리고 사용자 선호도 저장 등에 활용됩니다. 용량은 약 4KB로 제한되며, 만료 시간을 설정할 수 있습니다."
    </details>

  ### 2. 로컬 스토리지 (Local Storage)
  - 포함내용
    - 정의: HTML5에서 제공하는 클라이언트 측 저장소로, 데이터를 브라우저에 영구적으로 저장
    - 특징: 브라우저를 종료해도 데이터가 유지되며, 일반적으로 5~10MB의 용량을 제공
    - 용도: 사용자 설정, 캐시 데이터, 애플리케이션 상태 저장 등 다양한 데이터를 저장하는 데 사용
    - 전송: HTTP 요청 시 자동으로 전송되지 않는다.
  - <details>
    <summary>모범 답안 예시 : </summary>
    
      > "로컬 스토리지는 HTML5에서 제공하는 클라이언트 측 저장소로, 브라우저를 종료해도 데이터가 유지되며, 보통 5~10MB 정도의 용량을 제공합니다. 주로 사용자 설정, 캐시 데이터, 애플리케이션 상태 등을 저장하는 데 사용되며, HTTP 요청 시 자동으로 전송되지 않습니다."
    </details>

  ### 3. 세션 스토리지 (Session Storage)
  - 포함내용
    - 정의: 로컬 스토리지와 유사하지만, 한 브라우저 탭이나 창에서만 데이터를 저장하는 클라이언트 측 저장소
    - 특징: 탭이나 브라우저 창을 닫으면 데이터가 삭제되며, 같은 도메인 내에서도 탭 간에 데이터가 공유되지 않는다.
    - 용도: 일시적인 데이터 저장이나 페이지 간 데이터 전달에 주로 사용
    - 전송: HTTP 요청 시 자동으로 전송되지 않는다.
  - <details>
    <summary>모범 답안 예시 : </summary>

      > "세션 스토리지는 로컬 스토리지와 유사하지만, 브라우저 탭이나 창이 열려 있는 동안만 데이터를 저장하고, 탭이나 창을 닫으면 저장된 데이터가 삭제됩니다. 따라서 주로 일시적인 데이터 저장이나 페이지 간 데이터 전달에 사용되며, HTTP 요청 시 자동으로 전송되지 않습니다."
    </details>

  ### 4. 종합 비교 및 고려사항
  - 포함내용
    - 전송 방식: 쿠키는 HTTP 요청마다 자동으로 전송되지만, 로컬 스토리지와 세션 스토리지는 클라이언트 측에서만 접근됩니다.
    - 수명: 쿠키는 설정된 만료 시간에 따라 수명이 달라지며, 로컬 스토리지는 영구적이고, 세션 스토리지는 세션(탭/창) 종료 시 소멸됩니다.
    - 용량: 쿠키는 약 4KB로 제한되지만, 로컬 스토리지와 세션 스토리지는 수 MB 단위의 데이터를 저장할 수 있습니다.
  - <details>
    <summary>모범 답안 예시 : </summary>
    
      > "쿠키는 매 HTTP 요청마다 자동으로 전송되며 약 4KB의 제한된 용량을 가지고 있지만, 로컬 스토리지는 데이터를 영구적으로 저장하며 일반적으로 5~10MB의 용량을 제공합니다. 반면, 세션 스토리지는 브라우저 탭이나 창이 활성화되어 있는 동안만 데이터를 저장하여, 탭이 닫히면 해당 데이터가 삭제됩니다."
    </details>

  ### 5. 심화 지식
  - 포함내용
    - 보안 측면:
      - 쿠키는 서버와의 통신에 사용되므로 XSS(XSS는 공격자가 악의적인 스크립트를 웹 페이지에 삽입하여, 해당 페이지를 방문하는 다른 사용자에게 실행되도록 하는 보안 취약점입니다. 이를 통해 공격자는 사용자 세션 탈취, 페이지 변조, 리디렉션 등의 공격을 할 수 있습니다.)나 CSRF(CSRF는 사용자가 의도치 않은 요청을 보내도록 속여, 공격자가 피해자의 권한으로 웹 애플리케이션에 변경 작업을 수행하게 만드는 공격입니다. 예를 들어, 사용자가 로그인된 상태에서 악의적인 사이트를 방문하면, 그 사이트가 사용자의 자격 증명을 이용해 비밀리에 요청을 보낼 수 있습니다.) 공격에 취약할 수 있으며, 이를 보완하기 위해 HttpOnly(쿠키가 클라이언트 측 스크립트로 접근되지 않도록 제한, XSS 공격에 의해 쿠키 탈취가 일어나는 것을 방지하는 데 도움), Secure(쿠키가 오직 HTTPS와 같은 암호화된 채널을 통해서만 전송되도록 보장, 중간자 공격 예방에 도움), SameSite(쿠키가 크로스 사이트 요청에 어떻게 포함되는지를 제어하는 옵션, Strict: 쿠키가 오직 같은 사이트 내에서 발생하는 요청에만 전송, Lax: 기본적으로 대부분의 크로스 사이트 요청에 쿠키가 포함되지 않지만, 사용자가 URL을 직접 입력하거나 링크를 클릭하는 등 '탑 레벨 네비게이션' 시에는 쿠키가 전송, None: 쿠키가 모든 요청에 전송, 기본적으로 SameSite의 디폴트값은 Lax) 등의 플래그를 사용할 수 있습니다.
      - 로컬 스토리지와 세션 스토리지는 클라이언트 측에만 존재하지만, 클라이언트 스크립트 공격에 의해 민감한 데이터가 노출될 위험이 있습니다.
    - 성능 측면:
      - 쿠키는 매 요청 시 전송되므로 네트워크 부하를 증가시킬 수 있지만, 로컬 스토리지와 세션 스토리지는 HTTP 요청 시 전송되지 않아 네트워크 부하를 줄일 수 있습니다.
    - API 동작 방식:
      - 로컬 스토리지와 세션 스토리지는 동기적 API를 제공하므로, 대용량 데이터 처리 시 브라우저 응답에 영향을 줄 수 있습니다.
    - 사용 시나리오:
      - 로컬 스토리지는 장기간 데이터를 저장하는 데 적합한 반면, 세션 스토리지는 로그인 상태나 일시적인 데이터 저장에 적합합니다.
  - <details>
    <summary>모범 답안 예시 : </summary>
    
      > "보안 측면에서는, 쿠키는 매 HTTP 요청에 포함되기 때문에 XSS나 CSRF 공격에 취약할 수 있으나, HttpOnly, Secure, SameSite 옵션을 통해 위험을 줄일 수 있습니다. 반면, 로컬 스토리지와 세션 스토리지는 클라이언트 측에 저장되어 네트워크 부하를 줄이는 장점이 있지만, 클라이언트 스크립트 공격에 취약할 수 있습니다. 로컬 스토리지는 장기간 데이터 저장에 적합하며, 세션 스토리지는 세션 종료 시 자동으로 삭제되어 일시적인 데이터 저장에 유리합니다. 다만, 두 저장소 모두 동기적 API를 사용하므로, 대용량 데이터 처리 시 브라우저 응답에 영향을 미칠 수 있다는 점을 고려해야 합니다."
    </details>
</details>
