# Index

---

## 면접 질문 예시

> "Index에 대해 아는대로 설명해주세요.”

---

<details>
  <summary><h2> 평가 요소 및 모범 답안</h2></summary>

</br>

  ### 1. 인덱스
  - 포함내용
     - 정의 : Database에서 추가적인 쓰기 작업과 저장 공간을 활용하여 데이터 조회 성능을 향상시키기 위한 자료구조
     - 장점 : 테이블을 조회하는 속도와 그에 따른 성능을 향상시킬 수 있으며, 전반적인 시스템의 부하를 줄일 수 있다.
     - 단점 : 인덱스를 관리하기 위해 추가적인 저장공간과 추가 작업이 필요하다. 인덱스를 잘못 사용하는 경우 오히려 성능이 저하된다. 예를들면 CREATE/DELETE/UPDATE가 빈번한 속성에 인덱스를 걸면 인덱스의 크기가 비대해져서 성능이 저하된다.
     - 인덱스를 사용하면 좋은 경우 : 규모가 큰 테이블, Insert/Update/Delete가 자주 발생하지 않는 컬럼, JOIN/WHERE/ORDER BY가 자주 사용되는 컬럼, 데이터의 중복도가 낮은 컬럼(=선택도가 높은 컬럼 = 컬럼의 값이 다양한 경우 = 고유값이 많은 경우)
     - 인덱스 관리 : DBMS는 Index를 항상 최신의 정렬된 상태로 유지해야 원하는 값을 빠르게 탐색할 수 있다. 따라서 Insert/Update/Delete가 수행된다면 각각 다음과 같은 연산을 추가적으로 수행해야하며, 그에 따른 오버헤드가 발생한다.
        - INSERT : 새로운 데이터에 대한 인덱스를 추가.
        - DELETE : 삭제되는 데이터의 인덱스를 제거.
        - UPDATE : 인덱스가 걸린 컬럼의 값이 변경될 경우, 기존 인덱스를 삭제하고 새 인덱스를 추가.

</br>
</br>

  ### 2. 인덱스의 자료구조 : 해시 테이블
  - 포함내용
     - 정의 : 해시테이블은 (Key, Value) 형태로 데이터를 저장하는 자료구조로, Key를 해시 함수에 넣어 생성된 고유한 Index를 통해 Value를 빠르게 조회할 수 있는 구조이다.
     - 검색 속도 : O(1)
     - 장점 : 매우 빠른 등호(=) 검색
     - 단점 : 부등호(>,<), 정렬, 범위 검색 불가 ⇒ 그래서 DB의 인덱스에서는 B+Tree가 일반적으로 사용된다.

</br>
</br>

  ### 3. 인덱스의 자료구조 : B+Tree
  - 포함내용
     - 정의 : 자식 노드가 2개 이상인 B-Tree를 개선시킨 자료구조로, 트리의 모든 실제 데이터는 리프 노드에만 저장되고, 상위 내부 노드들은 검색을 위한 키만 가지고 있다. 이때 리프노드끼리는 LinkedList 형태이다.
     - 검색 속도 : O(log n)
     - 장점 : 범위 검색 및 정렬 지원
     - 단점 : 메모리를 많이 사용하기 때문에, 메모리 기반처리 보단 디스크 기반 처리에 특화되어있다.

</br>
</br>

  ### 4. 모범 답안 예시

> 인덱스는 데이터베이스에서 데이터 조회 성능을 향상시키기 위한 자료구조입니다.
> 
> 정확히는, 추가적인 저장 공간과 쓰기 작업의 비용을 감수하면서도, SELECT나 WHERE 조건이 붙는 조회 성능을 빠르게 만드는 역할을 합니다. </br>
> 인데스를 사용하면, 성능 향상이라는 이점이 있지만 그만큼 추가 작업과 저장 공간이 필요하며, 잘못 사용하거나 불필요한 컬럼에 인덱스를 걸면 오히려 성능이 저하될 수 있습니다. </br>
> 테이블의 데이터 양이 많고, INSERT/UPDATE/DELETE가 자주 일어나지 않으며, 중복도가 낮은 컬럼, 즉 선택도가 높고 고유값이 많은 컬럼에 인덱스를 거는 것이 효과적입니다. </br>
> 
> 인덱스는 보통 B+Tree를 기반으로 만들어집니다.
> B+Tree는 모든 실제 데이터가 리프 노드에만 저장되고, 내부 노드는 검색용 키만 갖는 구조이며, 리프 노드들끼리는 Linked List 형태로 연결돼 있어서 범위 검색이나 정렬에 강점이 있습니다.
> 
> 반면, 해시 테이블 기반 인덱스도 존재하지만, 이는 특정 값에 대해 빠르게 일치 여부만 판단할 수 있는 구조로, 등호(=) 연산만 빠르고,
> 범위 검색이나 정렬에는 부적합하기 때문에 데이터베이스에서는 B+Tree가 더 일반적으로 사용됩니다.
</details>
