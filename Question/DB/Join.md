# SQL JOIN 연산 및 종류

---

## 면접 질문 예시

> "SQL에서 JOIN 연산 사용하는 이유와, INNER JOIN, LEFT JOIN, RIGHT JOIN, FULL JOIN의 차이점에 대해 설명해 주시고, 각각의 JOIN이 어떠한 상황에서 사용되는지 예시를 들어 설명해 주실 수 있나요?"

---

<details>
  <summary><h2> 평가 요소 및 평가 요소 별 모범 답안</h2></summary>

  ### 1. SQL JOIN 연산의 기본 개념
  - 포함내용
    - 정의: 두 개 이상의 테이블을 공통 컬럼을 기준으로 결합하여 하나의 결과 집합을 생성하는 연산.
    - 목적: 관련 데이터를 한 곳에서 조회할 수 있게 하여, 데이터 중복 없이 효율적인 정보 추출을 가능
  - <details>
    <summary>모범 답안 예시 : </summary>
    
      > "SQL JOIN 연산은 여러 테이블에서 공통된 컬럼을 기준으로 데이터를 결합하여 하나의 결과 집합으로 만드는 연산입니다. 이를 통해 서로 다른 테이블에 분산되어 있는 관련 데이터를 통합하여 조회할 수 있습니다."
    </details>

  ### 2. INNER JOIN의 개념 및 사용
  - 포함내용
    - 정의: 두 테이블에서 조건에 일치하는 행만 결합하여 결과를 반환
    - 사용 상황: 양쪽 테이블 모두에서 매칭되는 데이터만 필요할 때 사용.
  - <details>
    <summary>모범 답안 예시 : </summary>
    
      > "INNER JOIN은 두 테이블 간에 공통된 값이 있는 행만 반환합니다. 예를 들어, 고객 테이블과 주문 테이블을 INNER JOIN 하면, 주문이 존재하는 고객 정보만 결과에 포함됩니다."
    </details>

  ### 3. LEFT JOIN의 개념 및 사용
  - 포함내용
    - 정의: 왼쪽(첫 번째) 테이블의 모든 행을 반환하며, 오른쪽 테이블에 매칭되는 값이 없으면 NULL로 표시합니다.
    - 사용 상황: 왼쪽 테이블의 모든 데이터를 보고, 오른쪽 테이블과의 매칭 여부를 확인할 때 사용.
  - <details>
    <summary>모범 답안 예시 : </summary>

      > "LEFT JOIN은 왼쪽 테이블의 모든 행을 반환하면서, 오른쪽 테이블에 일치하는 값이 있을 경우 그 데이터를 함께 반환합니다. 만약 오른쪽 테이블에 일치하는 값이 없다면, 오른쪽 컬럼은 NULL로 채워집니다. 이는 예를 들어, 모든 고객 정보를 보고 각 고객의 주문 내역이 있는지를 확인할 때 유용합니다."
    </details>

  ### 4. RIGHT JOIN의 개념 및 사용
  - 포함내용
    - 정의: 오른쪽(두 번째) 테이블의 모든 행을 반환하며, 왼쪽 테이블에 매칭되는 값이 없으면 NULL로 표시합니다.
    - 사용 상황: 오른쪽 테이블의 모든 데이터를 기준으로 왼쪽 테이블과의 매칭 여부를 확인할 때 사용.
  - <details>
    <summary>모범 답안 예시 : </summary>

      > "RIGHT JOIN은 RIGHT 테이블의 모든 행을 반환하면서, 왼쪽 테이블에 일치하는 값이 있을 경우 그 데이터를 함께 반환합니다. 만약 왼쪽 테이블에 일치하는 값이 없다면, 왼쪽 컬럼은 NULL로 채워집니다. 이는 특정 상황에서 오른쪽 테이블의 모든 데이터를 기준으로 결과를 도출할 때 사용됩니다."
    </details>

  ### 5. FULL JOIN의 개념 및 사용
  - 포함내용
    - 정의: 양쪽 테이블의 모든 행을 반환하며, 어느 한쪽에 매칭되는 값이 없으면 해당 테이블의 컬럼은 NULL로 채워집니다.
    - 사용 상황: 두 테이블의 모든 데이터를 결합하여, 어느 한쪽에만 존재하는 데이터도 함께 조회할 때 사용.
  - <details>
    <summary>모범 답안 예시 : </summary>
    
      > "FULL JOIN은 두 테이블의 모든 행을 반환합니다. 만약 한 테이블에만 존재하는 데이터가 있다면, 반대쪽 테이블의 컬럼은 NULL로 채워집니다. 이를 통해 두 테이블의 모든 정보를 포괄적으로 조회할 수 있습니다."
    </details>

  ### 6. 심화 지식
  - 포함내용
    - 성능 최적화: JOIN 연산은 대용량 데이터셋이나 복잡한 조인 조건에서 성능 저하를 일으킬 수 있으므로, 조인에 사용되는 컬럼에 인덱스를 설정하고 쿼리 실행 계획을 분석하는 것이 중요합니다. 불필요한 데이터 결합을 피하고, 조건을 명확히 하여 최적의 조인 전략을 수립해야 합니다.
    - 추가 JOIN 종류: 
      - CROSS JOIN (데카르트 곱): 두 테이블의 모든 행을 서로 결합하여 모든 가능한 조합의 결과를 반환합니다. ON 절이 없으며, 데이터셋 크기가 급격히 커질 수 있으므로 사용에 주의해야 합니다.
      - SELF JOIN: 같은 테이블 내에서 자기 자신과 조인을 수행하는 것으로, 테이블의 각 행을 다른 행과 비교할 때 유용합니다. 보통 테이블에 별칭(alias)을 부여하여 사용합니다.
    - ON 절 vs WHERE 절:
      - ON 절: JOIN 연산에서 두 테이블 간의 행을 결합하기 위한 조건을 지정하는 데 사용됩니다. 이는 조인 자체의 조건을 정의하며, 특히 외부 조인(LEFT, RIGHT, FULL JOIN)에서는 ON 절에 작성된 조건에 따라 결합된 행에 대해 NULL 값이 발생할 수 있습니다.
      - WHERE 절: JOIN 이후 결과 집합에 대해 추가적인 필터링 조건을 지정하는 데 사용됩니다. 외부 조인에서 WHERE 절에 조건을 추가하면, 의도치 않게 NULL 값이 포함된 행이 제거되어, 결국 내부 조인과 유사한 결과를 초래할 수 있습니다.
    - JOIN 쿼리 최적화 및 데이터 모델 설계 고려 사항:
      - 인덱스 최적화: JOIN 조건에 사용되는 컬럼, 특히 외래 키에 인덱스를 설정하여 검색 성능을 개선합니다.
      - 쿼리 단순화: 불필요한 조인을 제거하고, 필요한 컬럼만 선택하여 데이터 전송량을 줄입니다.
      - 정규화와 비정규화: 데이터 중복을 줄이기 위해 정규화를 수행하되, 지나친 조인으로 인한 성능 저하를 피하기 위해 상황에 따라 비정규화를 고려합니다.
      - 실행 계획 분석: 데이터베이스의 실행 계획(Explain Plan)을 분석하여 쿼리 성능 병목 지점을 파악하고, 최적화할 수 있는 부분을 개선합니다.
  - <details>
    <summary>모범 답안 예시 : </summary>
    
      > "JOIN 연산은 데이터베이스에서 여러 테이블의 데이터를 결합하는 데 필수적인 역할을 하지만, 대용량 데이터셋이나 복잡한 조인 조건이 있는 경우 성능 저하를 초래할 수 있습니다. 따라서, 조인에 사용되는 컬럼에 적절한 인덱스를 설정하고, 데이터베이스의 실행 계획(Explain Plan)을 분석해 불필요한 데이터 결합을 피하고 조건을 명확히 하는 것이 중요합니다. 

      > 추가적인 JOIN 종류로는 CROSS JOIN과 SELF JOIN가 있습니다. CROSS JOIN은 ON 절 없이 두 테이블의 모든 행을 결합하여 모든 가능한 조합을 반환하기 때문에, 결과 집합의 크기가 매우 커질 수 있어 신중히 사용해야 합니다. 반면, SELF JOIN은 같은 테이블 내에서 자기 자신과 조인하는 방식으로, 테이블의 각 행을 서로 비교할 때 유용하며, 보통 별칭(alias)을 사용해 처리합니다.
      
      > ON 절과 WHERE 절의 차이를 이해하는 것도 중요합니다. ON 절은 두 테이블 간의 조인 조건을 정의하여 행을 결합하는 역할을 하며, 특히 외부 조인에서 NULL 값을 포함한 결과를 만들어낼 수 있습니다. 반면, WHERE 절은 조인 이후 결과 집합에 추가적인 필터링 조건을 적용하는데, 외부 조인에 WHERE 절의 조건을 추가하면 의도치 않게 NULL 값이 제거되어 결국 내부 조인과 유사한 결과를 초래할 수 있습니다.

      > JOIN 쿼리의 최적화와 데이터 모델 설계 시에는 인덱스 최적화, 쿼리 단순화, 정규화와 비정규화의 균형, 그리고 실행 계획 분석을 통해 최적의 성능을 도출하는 것이 중요합니다. 이러한 최적화 전략을 적절히 활용하면, 대규모 데이터 환경에서도 효율적으로 JOIN 연산을 수행할 수 있습니다."
    </details>
</details>