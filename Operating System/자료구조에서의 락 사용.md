<details>
  <summary><strong>자료구조에서 락을 사용할 때는 어떤 점들을 고려해야 할까요?</strong></summary>

<br>

어떤 방식으로 락을 사용해야 자료구조가 정확하게 동작할 수 있을지(정확성)와 여러 스레드가 동시에 자료구조를 이용할 때 높은 성능을 얻을 수 있는지(확장성)를 고려해야 합니다
  
</details>

<details>
  <summary><strong>락 한 개로 전체를 보호하는 카운터 방식의 장단점을 설명해 주세요</strong></summary>

<br>

락을 전역으로 하나만 사용할 경우 구현이 간단하고 정확성은 보장되는 장점이 있지만 스레드가 늘어날수록 락경합에 의해 성능이 떨어지는 즉, 확장성이 떨어지는 단점이 있습니다
  
</details>

<details>
  <summary><strong>슬로피(엉성한) 카운터 방식에 대해 설명해 주세요</strong></summary>

<br>

하나의 전역 카운터와 CPU별 지역 카운터를 사용하는 방법입니다. 스레드는 자신이 속한 CPU의 지역 카운터를 갱신하고 한계치(S)에 도달하면 전역 카운터에 값을 더하고 지역 카운터는 0으로 초기화 합니다. 즉, 한계치에 도달할 때까지 전역 카운터에서의 락 경합은 일어나지 않으므로 확장성이 증가합니다  
이때, 한계치가 클수록 락 경합이 줄어 성능은 올라가지만 전역 카운터가 실시간 합계와는 차이가 나게 됩니다. 반대로 한계치가 작으면 전역 카운터가 실시간 합계와 차이가 줄어들지만 락 경합이 늘어 성능은 낮아집니다
  
</details>

<details>
  <summary><strong>락을 이용한 병행 자료구조에 대해서 설명해 주세요 </strong></summary>

<br>

#### 병행 연결 리스트
하나의 카운터를 사용하여 임계 구역만 락으로 보호하여 함수 시작 시 락을 획득하고 리턴 직전 혹은 예외 상황에서 락을 해제 하는 방법을 사용할 수 있습니다  
확장성을 높이기 위해서는 노드마다 락 카운터를 사용할 수 있는데, 이 방법은 락을 획득/해제하는 오버헤드가 커져 오히려 성능이 떨어질 수도 있습니다, 따라서, 성능을 직접 측정해보고 더 좋은 방법을 선택해야 합니다  

#### 병행 큐
큐의 head와 tail을 보호하는 락을 사용할 수 있습니다. 삽입 시에는 tail의 락을 사용하고 추출 시에는 head의 락을 사용함으로 동시성을 높일 수 있습니다  
큐가 비어 있을 경우(초기화 시) 더미 노드를 사용하여 head와 tail을 가리키게 한다면 예외 처리 없이 깔끔하게 로직을 작성할 수 있습니다  

#### 병행 해시 테이블
해시 테이블의 각 버킷마다 락을 두어 확장성을 높일 수 있습니다  
해시 테이블이 동적 크기를 갖는 경우 새로운 배열을 할당하고 재해싱 후 참조 전환하는 과정에서의 락 설계도 필요합니다  
</details>
