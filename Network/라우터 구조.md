<details>
  
<summary>
  <strong>라우터 내부에 있는 4가지 요소에 대해서 설명해 주세요</strong>
</summary>

<br>

라우터 내부에는 네트워크에서 들어온 패킷을 수신하고 포워딩을 결정하는 **입력 포트**, 결정된 경로로 패킷을 전달하는 **스위칭 구조**, 패킷을 버퍼링/스케줄링을 수행하고 네트워크로 전송하는 **출력 포트**, 라우팅 프로토콜을 통해 네트워크 정보를 수집/분석하여 포워딩 테이블을 생성 및 업데이트 하는 **라우팅 프로세서**로 이루어져 있습니다.

<br>
</details>

<details>
  
<summary>
  <strong>입력 포트에서 패킷이 이동하는 과정에 대해서 설명해 주세요</strong>
</summary>

<br>

입력 포트를 통해 패킷이 들어오면 패킷이 올바르게 전달되었는지 검사하고 역캡슐화를 진행한 뒤, 패킷의 IP 헤더를 확인하여 최장 프리픽스 매치 규칙에 따라 포워딩 테이블을 참조하여 패킷을 어떤 출력 포트로 보낼지 결정합니다

<br>

* 최장 프리픽스 매치 규칙 : 목적지 주소가 여러 엔트리와 매치될 수 있으므로, 테이블에서 가장 긴 매치 엔트리를 찾고 이와 연관된 링크 인터페이스로 패킷을 보냄
</details>

<details>
  
<summary>
  <strong>스위치 구조의 스위칭 방식에 대해 설명해 주세요</strong>
</summary>

<br>

스위칭 방식에는 메모리 기반, 버스 기반, 상호연결 네트워크 기반 방식이 있습니다  
**메모리 기반 방식**은 라우팅 프로세서를 제어해서 공유 메모리를 통해 패킷을 교환하는 방식으로 느리다는 단점이 있습니다  
**버스 기반 방식**은 공유 경로를 통해 입력 포트와 출력 포트가 직접 연결되는 방식으로 빠르지만, 한 번에 하나의 패킷만 버스를 지날 수 있으므로 동시 전송이 어렵다는 단점이 있습니다  
**상호연결 네트워크 기반 방식**은 입력 포트와 출력 포트를 교차 형태의 구조를 통해 연결하는 방식으로 출력 포트만 다르다면 여러 패킷을 병렬로 전송할 수 있는 구조입니다  

</details>

<details>
<summary>
  <strong>출력 포트에서 패킷이 이동하는 과정에 대해 설명해 주세요</strong>
</summary>

<br>

출력 포트는 스위칭 구조를 통해 전달된 패킷을 스케줄링 전략(FIFO, WFQ 등)에 따라 캡슐화 한 후 네트워크로 전송하게 됩니다

</details>

<details>
<summary>
  <strong>라우터에서 큐잉이 일어날 수 있는 곳은 어디인가요?</strong>
</summary>

<br>

라우터 내부에서는 입력 포트와 출력 포트에서 큐잉이 일어날 수 있습니다  
**입력 포트**에서는 스위칭 구조가 혼잡하거나 출력 포트가 사용중인 경우 패킷이 대기할 수 있습니다  
**출력 포트**에서는 패킷의 전송률 보다 스위치 구조 전송률이 빠르고 같은 출력 포트에 계속 패킷을 보내면 병목 현상이 발생할 수 있습니다  
큐잉이 생길 경우 큐에 패킷을 저장할 메모리가 충분하지 않다면 패킷이 손실될 수 있습니다

<br>

* HOL(head-of-the-line) : 사용 불가능한 앞쪽 패킷이 대기하고 있어 사용 가능한 뒤쪽 패킷도 대기하는 현상
* Bufferbloat : 패킷 손실을 줄이기 위해 큐의 공간(버퍼 크기)를 과도하게 크게 설정하면 패킷 지연이 증가하는 현상
</details>
